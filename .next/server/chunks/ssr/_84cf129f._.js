module.exports=[86489,a=>{"use strict";var b=a.i(17188),c=a.i(68407),d=a.i(3130),e=a.i(40695);function f({email:a}){let[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!1);async function j(){if(a){i(!0);try{let b=await fetch(`/api/suggestions?email=${encodeURIComponent(a)}`),c=await b.json();g(c?.suggestions||[])}catch(a){console.error("Failed to load suggestions for inbox",a)}finally{i(!1)}}}return((0,c.useEffect)(()=>{let b=!0;if(!a)return;j();let c=setInterval(()=>{b&&j()},1e4);return()=>{b=!1,clearInterval(c)}},[a]),a)?h?(0,b.jsx)("div",{className:"text-sm text-gray-500",children:"Loading messages…"}):f&&0!==f.length?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"flex items-center justify-end mb-2",children:(0,b.jsx)(e.Button,{size:"sm",onClick:()=>j(),children:"Refresh"})}),f.map(a=>(0,b.jsx)(d.Card,{className:"p-3",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-sm text-gray-700",children:[a.type," • ",new Date(a.createdAt).toLocaleString()]}),(0,b.jsx)("div",{className:"mt-2 text-gray-900 dark:text-white",children:a.message}),a.adminResponse&&(0,b.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-slate-800 border rounded",children:[(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300 font-semibold",children:"Response"}),(0,b.jsx)("div",{className:"text-sm text-gray-800 dark:text-gray-200 mt-1",children:a.adminResponse}),(0,b.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Responded: ",a.respondedAt?new Date(a.respondedAt).toLocaleString():""]})]})]}),(0,b.jsxs)("div",{className:"ml-4 flex flex-col items-end",children:[(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:["From: ",a.name||a.email]}),!a.adminResponse&&(0,b.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:"No response yet"})]})]})},a.id))]}):(0,b.jsx)("div",{className:"text-sm text-gray-500",children:"No messages yet."}):(0,b.jsx)("div",{className:"text-sm text-gray-500",children:"No email set"})}a.s(["default",()=>f])},59718,a=>{"use strict";var b=a.i(17188),c=a.i(11807),d=a.i(4743),e=a.i(86489),f=a.i(51494);function g(){let{user:a}=(0,f.useUser)();return a?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[(0,b.jsx)(c.MainNav,{}),(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)(d.Sidebar,{}),(0,b.jsx)("main",{className:"flex-1 p-8",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"My Messages"}),(0,b.jsx)("div",{className:"bg-white dark:bg-slate-800 p-4 rounded border",children:(0,b.jsx)(e.default,{email:a.email})})]})})]})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[(0,b.jsx)(c.MainNav,{}),(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)(d.Sidebar,{}),(0,b.jsx)("main",{className:"flex-1 p-8",children:(0,b.jsx)("div",{className:"max-w-2xl mx-auto text-center",children:(0,b.jsx)("h2",{className:"text-xl font-semibold",children:"Please log in to view your messages."})})})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=_84cf129f._.js.map