{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///home/lod/Downloads/jwrc/lib/email-templates.ts"],"sourcesContent":["export function getEventSignupConfirmationEmail(name: string, eventTitle: string, eventDate: string, eventLocation?: string, ref?: string) {\n  const siteName = process.env.SITE_NAME || 'Jesus Worship and Restoration Church'\n  const siteUrl = process.env.NEXT_PUBLIC_URL || 'http://localhost:3000'\n  \n  return {\n    subject: `Event Registration Confirmed: ${eventTitle}`,\n    html: `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Event Registration Confirmed</title>\n</head>\n<body style=\"margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f5f5f5;\">\n  <table role=\"presentation\" style=\"width: 100%; border-collapse: collapse;\">\n    <tr>\n      <td style=\"padding: 20px 0; text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\">\n        <h1 style=\"color: #ffffff; margin: 0; font-size: 24px;\">${siteName}</h1>\n      </td>\n    </tr>\n    <tr>\n      <td style=\"padding: 40px 20px; background-color: #ffffff;\">\n        <table role=\"presentation\" style=\"width: 100%; max-width: 600px; margin: 0 auto;\">\n          <tr>\n            <td>\n              <h2 style=\"color: #333333; margin: 0 0 20px 0; font-size: 22px;\">Thank You for Registering!</h2>\n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 0 0 20px 0;\">\n                Dear ${name},\n              </p>\n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 0 0 20px 0;\">\n                We're excited to confirm your registration for <strong>${eventTitle}</strong>.\n              </p>\n              \n              <div style=\"background-color: #f8f9fa; border-left: 4px solid #667eea; padding: 20px; margin: 20px 0; border-radius: 4px;\">\n                <h3 style=\"color: #333333; margin: 0 0 10px 0; font-size: 18px;\">Event Details</h3>\n                <p style=\"color: #666666; font-size: 14px; margin: 5px 0;\"><strong>Event:</strong> ${eventTitle}</p>\n                <p style=\"color: #666666; font-size: 14px; margin: 5px 0;\"><strong>Date & Time:</strong> ${eventDate}</p>\n                ${eventLocation ? `<p style=\"color: #666666; font-size: 14px; margin: 5px 0;\"><strong>Location:</strong> ${eventLocation}</p>` : ''}\n                ${ref ? `<p style=\"color: #666666; font-size: 14px; margin: 5px 0;\"><strong>Reference Number:</strong> <code style=\"background-color: #e9ecef; padding: 2px 6px; border-radius: 3px; font-family: monospace;\">${ref}</code></p>` : ''}\n              </div>\n              \n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 20px 0;\">\n                We look forward to seeing you there! If you have any questions or need to make changes to your registration, please don't hesitate to contact us at <strong>0715377835</strong>.\n              </p>\n              \n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 20px 0;\">\n                \"For where two or three gather in my name, there am I with them.\" - Matthew 18:20\n              </p>\n              \n              <div style=\"text-align: center; margin: 30px 0;\">\n                <a href=\"${siteUrl}/events\" style=\"display: inline-block; background-color: #667eea; color: #ffffff; text-decoration: none; padding: 12px 30px; border-radius: 5px; font-weight: bold;\">View All Events</a>\n              </div>\n              \n              <p style=\"color: #999999; font-size: 14px; line-height: 1.6; margin: 30px 0 0 0; border-top: 1px solid #eeeeee; padding-top: 20px;\">\n                Blessings,<br>\n                <strong>The ${siteName} Team</strong>\n              </p>\n            </td>\n          </tr>\n        </table>\n      </td>\n    </tr>\n    <tr>\n      <td style=\"padding: 20px; text-align: center; background-color: #f8f9fa; color: #999999; font-size: 12px;\">\n        <p style=\"margin: 0;\">This is an automated confirmation email. Please do not reply to this message.</p>\n        <p style=\"margin: 5px 0 0 0;\">¬© ${new Date().getFullYear()} ${siteName}. All rights reserved.</p>\n      </td>\n    </tr>\n  </table>\n</body>\n</html>\n    `,\n    text: `\nThank You for Registering!\n\nDear ${name},\n\nWe're excited to confirm your registration for ${eventTitle}.\n\nEvent Details:\n- Event: ${eventTitle}\n- Date & Time: ${eventDate}\n${eventLocation ? `- Location: ${eventLocation}\\n` : ''}${ref ? `- Reference Number: ${ref}\\n` : ''}\n\nWe look forward to seeing you there! If you have any questions or need to make changes to your registration, please don't hesitate to contact us at 0715377835.\n\n\"For where two or three gather in my name, there am I with them.\" - Matthew 18:20\n\nView all events: ${siteUrl}/events\n\nBlessings,\nThe ${siteName} Team\n\n---\nThis is an automated confirmation email. Please do not reply to this message.\n¬© ${new Date().getFullYear()} ${siteName}. All rights reserved.\n    `.trim()\n  }\n}\n\nexport function getEventTicketEmail(name: string, eventTitle: string, eventDate: string, eventLocation: string | undefined, ref: string, qrCodeDataURL: string) {\n  const siteName = process.env.SITE_NAME || 'Jesus Worship and Restoration Church'\n  const siteUrl = process.env.NEXT_PUBLIC_URL || 'http://localhost:3000'\n  \n  return {\n    subject: `Your Event Ticket: ${eventTitle}`,\n    html: `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Your Event Ticket</title>\n</head>\n<body style=\"margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f5f5f5;\">\n  <table role=\"presentation\" style=\"width: 100%; border-collapse: collapse;\">\n    <tr>\n      <td style=\"padding: 20px 0; text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\">\n        <h1 style=\"color: #ffffff; margin: 0; font-size: 24px;\">${siteName}</h1>\n      </td>\n    </tr>\n    <tr>\n      <td style=\"padding: 40px 20px; background-color: #ffffff;\">\n        <table role=\"presentation\" style=\"width: 100%; max-width: 600px; margin: 0 auto;\">\n          <tr>\n            <td>\n              <h2 style=\"color: #333333; margin: 0 0 20px 0; font-size: 22px;\">üéüÔ∏è Your Event Ticket</h2>\n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 0 0 20px 0;\">\n                Dear ${name},\n              </p>\n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 0 0 20px 0;\">\n                Here is your digital ticket for <strong>${eventTitle}</strong>. Please present this QR code at the event entrance for check-in.\n              </p>\n              \n              <div style=\"background-color: #f8f9fa; border-left: 4px solid #667eea; padding: 20px; margin: 20px 0; border-radius: 4px;\">\n                <h3 style=\"color: #333333; margin: 0 0 10px 0; font-size: 18px;\">Event Details</h3>\n                <p style=\"color: #666666; font-size: 14px; margin: 5px 0;\"><strong>Event:</strong> ${eventTitle}</p>\n                <p style=\"color: #666666; font-size: 14px; margin: 5px 0;\"><strong>Date & Time:</strong> ${eventDate}</p>\n                ${eventLocation ? `<p style=\"color: #666666; font-size: 14px; margin: 5px 0;\"><strong>Location:</strong> ${eventLocation}</p>` : ''}\n                <p style=\"color: #666666; font-size: 14px; margin: 5px 0;\"><strong>Ticket Ref:</strong> <code style=\"background-color: #e9ecef; padding: 2px 6px; border-radius: 3px; font-family: monospace;\">${ref}</code></p>\n              </div>\n              \n              <div style=\"text-align: center; margin: 30px 0; padding: 20px; background-color: #ffffff; border: 2px dashed #667eea; border-radius: 8px;\">\n                <h3 style=\"color: #333333; margin: 0 0 15px 0; font-size: 18px;\">Your QR Code Ticket</h3>\n                <img src=\"${qrCodeDataURL}\" alt=\"Event Ticket QR Code\" style=\"width: 250px; height: 250px; margin: 0 auto; display: block;\" />\n                <p style=\"color: #999999; font-size: 13px; margin: 15px 0 0 0;\">\n                  Present this QR code at the event entrance\n                </p>\n              </div>\n              \n              <div style=\"background-color: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 20px 0; border-radius: 4px;\">\n                <p style=\"color: #856404; font-size: 14px; margin: 0; line-height: 1.6;\">\n                  <strong>‚ö†Ô∏è Important:</strong> Please save this email or take a screenshot of the QR code. You'll need it to check in at the event.\n                </p>\n              </div>\n              \n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 20px 0;\">\n                We're looking forward to seeing you! If you have any questions, please contact us at <strong>0715377835</strong>.\n              </p>\n              \n              <p style=\"color: #666666; font-size: 14px; line-height: 1.6; margin: 20px 0;\">\n                \"For where two or three gather in my name, there am I with them.\" - Matthew 18:20\n              </p>\n              \n              <p style=\"color: #999999; font-size: 14px; line-height: 1.6; margin: 30px 0 0 0; border-top: 1px solid #eeeeee; padding-top: 20px;\">\n                Blessings,<br>\n                <strong>The ${siteName} Team</strong>\n              </p>\n            </td>\n          </tr>\n        </table>\n      </td>\n    </tr>\n    <tr>\n      <td style=\"padding: 20px; text-align: center; background-color: #f8f9fa; color: #999999; font-size: 12px;\">\n        <p style=\"margin: 0;\">This is your event ticket. Please save this email.</p>\n        <p style=\"margin: 5px 0 0 0;\">¬© ${new Date().getFullYear()} ${siteName}. All rights reserved.</p>\n      </td>\n    </tr>\n  </table>\n</body>\n</html>\n    `,\n    text: `\nYour Event Ticket\n\nDear ${name},\n\nHere is your digital ticket for ${eventTitle}. Please present this QR code at the event entrance for check-in.\n\nEvent Details:\n- Event: ${eventTitle}\n- Date & Time: ${eventDate}\n${eventLocation ? `- Location: ${eventLocation}\\n` : ''}\n- Ticket Ref: ${ref}\n\n‚ö†Ô∏è IMPORTANT: Save this email or take a screenshot. You'll need the QR code to check in at the event.\n\nWe're looking forward to seeing you! If you have any questions, please contact us at 0715377835.\n\n\"For where two or three gather in my name, there am I with them.\" - Matthew 18:20\n\nBlessings,\nThe ${siteName} Team\n\n---\nThis is your event ticket. Please save this email.\n¬© ${new Date().getFullYear()} ${siteName}. All rights reserved.\n    `.trim()\n  }\n}\n\nexport function getVolunteerConfirmationEmail(name: string, roleTitle: string) {\n  const siteName = process.env.SITE_NAME || 'Jesus Worship and Restoration Church'\n  const siteUrl = process.env.NEXT_PUBLIC_URL || 'http://localhost:3000'\n  \n  return {\n    subject: `Volunteer Application Received: ${roleTitle}`,\n    html: `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Volunteer Application Received</title>\n</head>\n<body style=\"margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f5f5f5;\">\n  <table role=\"presentation\" style=\"width: 100%; border-collapse: collapse;\">\n    <tr>\n      <td style=\"padding: 20px 0; text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\">\n        <h1 style=\"color: #ffffff; margin: 0; font-size: 24px;\">${siteName}</h1>\n      </td>\n    </tr>\n    <tr>\n      <td style=\"padding: 40px 20px; background-color: #ffffff;\">\n        <table role=\"presentation\" style=\"width: 100%; max-width: 600px; margin: 0 auto;\">\n          <tr>\n            <td>\n              <h2 style=\"color: #333333; margin: 0 0 20px 0; font-size: 22px;\">Thank You for Your Interest in Volunteering!</h2>\n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 0 0 20px 0;\">\n                Dear ${name},\n              </p>\n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 0 0 20px 0;\">\n                We have received your volunteer application for <strong>${roleTitle}</strong>. We are truly grateful for your willingness to serve our church community.\n              </p>\n              \n              <div style=\"background-color: #f8f9fa; border-left: 4px solid #667eea; padding: 20px; margin: 20px 0; border-radius: 4px;\">\n                <h3 style=\"color: #333333; margin: 0 0 10px 0; font-size: 18px;\">Application Details</h3>\n                <p style=\"color: #666666; font-size: 14px; margin: 5px 0;\"><strong>Position:</strong> ${roleTitle}</p>\n                <p style=\"color: #666666; font-size: 14px; margin: 5px 0;\"><strong>Status:</strong> <span style=\"color: #ff9800;\">Pending Review</span></p>\n              </div>\n              \n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 20px 0;\">\n                Our team will review your application and get back to you soon. We appreciate your patience as we carefully consider each application. If you have any questions, please contact us at <strong>0715377835</strong>.\n              </p>\n              \n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 20px 0;\">\n                \"Each of you should use whatever gift you have received to serve others, as faithful stewards of God's grace in its various forms.\" - 1 Peter 4:10\n              </p>\n              \n              <div style=\"text-align: center; margin: 30px 0;\">\n                <a href=\"${siteUrl}/dashboard\" style=\"display: inline-block; background-color: #667eea; color: #ffffff; text-decoration: none; padding: 12px 30px; border-radius: 5px; font-weight: bold;\">View Your Dashboard</a>\n              </div>\n              \n              <p style=\"color: #999999; font-size: 14px; line-height: 1.6; margin: 30px 0 0 0; border-top: 1px solid #eeeeee; padding-top: 20px;\">\n                Blessings,<br>\n                <strong>The ${siteName} Team</strong>\n              </p>\n            </td>\n          </tr>\n        </table>\n      </td>\n    </tr>\n    <tr>\n      <td style=\"padding: 20px; text-align: center; background-color: #f8f9fa; color: #999999; font-size: 12px;\">\n        <p style=\"margin: 0;\">This is an automated confirmation email. Please do not reply to this message.</p>\n        <p style=\"margin: 5px 0 0 0;\">¬© ${new Date().getFullYear()} ${siteName}. All rights reserved.</p>\n      </td>\n    </tr>\n  </table>\n</body>\n</html>\n    `,\n    text: `\nThank You for Your Interest in Volunteering!\n\nDear ${name},\n\nWe have received your volunteer application for ${roleTitle}. We are truly grateful for your willingness to serve our church community.\n\nApplication Details:\n- Position: ${roleTitle}\n- Status: Pending Review\n\nOur team will review your application and get back to you soon. We appreciate your patience as we carefully consider each application. If you have any questions, please contact us at 0715377835.\n\n\"Each of you should use whatever gift you have received to serve others, as faithful stewards of God's grace in its various forms.\" - 1 Peter 4:10\n\nView your dashboard: ${siteUrl}/dashboard\n\nBlessings,\nThe ${siteName} Team\n\n---\nThis is an automated confirmation email. Please do not reply to this message.\n¬© ${new Date().getFullYear()} ${siteName}. All rights reserved.\n    `.trim()\n  }\n}\n\nexport function getSuggestionConfirmationEmail(name: string, type: string) {\n  const siteName = process.env.SITE_NAME || 'Jesus Worship and Restoration Church'\n  const siteUrl = process.env.NEXT_PUBLIC_URL || 'http://localhost:3000'\n  \n  const typeLabels: Record<string, string> = {\n    suggestion: 'Suggestion',\n    complaint: 'Complaint',\n    praise: 'Praise',\n    question: 'Question'\n  }\n  \n  const typeLabel = typeLabels[type] || 'Feedback'\n  \n  return {\n    subject: `Thank You for Your ${typeLabel}`,\n    html: `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Feedback Received</title>\n</head>\n<body style=\"margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f5f5f5;\">\n  <table role=\"presentation\" style=\"width: 100%; border-collapse: collapse;\">\n    <tr>\n      <td style=\"padding: 20px 0; text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\">\n        <h1 style=\"color: #ffffff; margin: 0; font-size: 24px;\">${siteName}</h1>\n      </td>\n    </tr>\n    <tr>\n      <td style=\"padding: 40px 20px; background-color: #ffffff;\">\n        <table role=\"presentation\" style=\"width: 100%; max-width: 600px; margin: 0 auto;\">\n          <tr>\n            <td>\n              <h2 style=\"color: #333333; margin: 0 0 20px 0; font-size: 22px;\">Thank You for Your ${typeLabel}!</h2>\n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 0 0 20px 0;\">\n                ${name ? `Dear ${name},` : 'Hello,'}\n              </p>\n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 0 0 20px 0;\">\n                We have received your ${typeLabel.toLowerCase()}. Thank you for sharing your thoughts ‚Äî we will review your message and follow up when necessary.\n              </p>\n              \n              <div style=\"background-color: #f8f9fa; border-left: 4px solid #667eea; padding: 20px; margin: 20px 0; border-radius: 4px;\">\n                <h3 style=\"color: #333333; margin: 0 0 10px 0; font-size: 18px;\">What Happens Next?</h3>\n                <p style=\"color: #666666; font-size: 14px; margin: 5px 0; line-height: 1.6;\">\n                  Our team will carefully review your ${typeLabel.toLowerCase()} and respond as appropriate. We take all feedback seriously and use it to make our community stronger. If you have any questions, please contact us at <strong>0715377835</strong>.\n                </p>\n              </div>\n              \n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 20px 0;\">\n                \"Let us not become weary in doing good, for at the proper time we will reap a harvest if we do not give up.\" - Galatians 6:9\n              </p>\n              \n              <div style=\"text-align: center; margin: 30px 0;\">\n                <a href=\"${siteUrl}/dashboard\" style=\"display: inline-block; background-color: #667eea; color: #ffffff; text-decoration: none; padding: 12px 30px; border-radius: 5px; font-weight: bold;\">View Your Dashboard</a>\n              </div>\n              \n              <p style=\"color: #999999; font-size: 14px; line-height: 1.6; margin: 30px 0 0 0; border-top: 1px solid #eeeeee; padding-top: 20px;\">\n                Blessings,<br>\n                <strong>The ${siteName} Team</strong>\n              </p>\n            </td>\n          </tr>\n        </table>\n      </td>\n    </tr>\n    <tr>\n      <td style=\"padding: 20px; text-align: center; background-color: #f8f9fa; color: #999999; font-size: 12px;\">\n        <p style=\"margin: 0;\">This is an automated confirmation email. Please do not reply to this message.</p>\n        <p style=\"margin: 5px 0 0 0;\">¬© ${new Date().getFullYear()} ${siteName}. All rights reserved.</p>\n      </td>\n    </tr>\n  </table>\n</body>\n</html>\n    `,\n    text: `\nThank You for Your ${typeLabel}!\n\n${name ? `Dear ${name},` : 'Hello,'}\n\nWe have received your ${typeLabel.toLowerCase()}. Thank you for sharing your thoughts ‚Äî we will review your message and follow up when necessary.\n\nWhat Happens Next?\nOur team will carefully review your ${typeLabel.toLowerCase()} and respond as appropriate. We take all feedback seriously and use it to make our community stronger. If you have any questions, please contact us at 0715377835.\n\n\"Let us not become weary in doing good, for at the proper time we will reap a harvest if we do not give up.\" - Galatians 6:9\n\nView your dashboard: ${siteUrl}/dashboard\n\nBlessings,\nThe ${siteName} Team\n\n---\nThis is an automated confirmation email. Please do not reply to this message.\n¬© ${new Date().getFullYear()} ${siteName}. All rights reserved.\n    `.trim()\n  }\n}\n\nexport function getSuggestionResponseEmail(name: string, response: string, responderName: string, type?: string) {\n  const siteName = process.env.SITE_NAME || 'Jesus Worship and Restoration Church'\n  const siteUrl = process.env.NEXT_PUBLIC_URL || 'http://localhost:3000'\n  const typeLabel = type ? (type[0].toUpperCase() + type.slice(1)) : 'Feedback'\n\n  return {\n    subject: `Response to your ${typeLabel} from ${siteName}`,\n    // Send only the raw admin response as the email body (HTML/text).\n    // The caller already provides the response text; we avoid wrapping it in a full template per user request.\n    html: `${response.replace(/\\n/g, '<br/>')}`,\n    text: `${response}`.trim()\n  }\n}\n\nexport function getEmailVerificationEmail(name: string, verificationCode: string) {\n  const siteName = process.env.SITE_NAME || 'Jesus Worship and Restoration Church'\n  const siteUrl = process.env.NEXT_PUBLIC_URL || 'http://localhost:3000'\n  const codeExpiryMinutes = 30\n\n  return {\n    subject: `Verify Your Email Address - ${siteName}`,\n    html: `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Email Verification</title>\n</head>\n<body style=\"margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f5f5f5;\">\n  <table role=\"presentation\" style=\"width: 100%; border-collapse: collapse;\">\n    <tr>\n      <td style=\"padding: 20px 0; text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\">\n        <h1 style=\"color: #ffffff; margin: 0; font-size: 24px;\">${siteName}</h1>\n      </td>\n    </tr>\n    <tr>\n      <td style=\"padding: 40px 20px; background-color: #ffffff;\">\n        <table role=\"presentation\" style=\"width: 100%; max-width: 600px; margin: 0 auto;\">\n          <tr>\n            <td>\n              <h2 style=\"color: #333333; margin: 0 0 20px 0; font-size: 22px;\">Welcome! Verify Your Email</h2>\n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 0 0 20px 0;\">\n                Dear ${name},\n              </p>\n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 0 0 20px 0;\">\n                Thank you for signing up for ${siteName}. To complete your registration and secure your account, please verify your email address using the code below.\n              </p>\n              \n              <div style=\"background-color: #f8f9fa; border-left: 4px solid #667eea; padding: 20px; margin: 20px 0; border-radius: 4px;\">\n                <h3 style=\"color: #333333; margin: 0 0 15px 0; font-size: 18px;\">Your Verification Code</h3>\n                <p style=\"color: #666666; font-size: 14px; margin: 0 0 15px 0;\">\n                  Enter this code on the verification page:\n                </p>\n                <div style=\"text-align: center; margin: 20px 0;\">\n                  <div style=\"background-color: #ffffff; border: 2px dashed #667eea; padding: 20px; border-radius: 8px; font-family: monospace; font-size: 28px; font-weight: bold; color: #667eea; letter-spacing: 5px;\">\n                    ${verificationCode}\n                  </div>\n                </div>\n                <p style=\"color: #999999; font-size: 13px; margin: 15px 0 0 0;\">\n                  This code will expire in ${codeExpiryMinutes} minutes.\n                </p>\n              </div>\n              \n              <p style=\"color: #666666; font-size: 16px; line-height: 1.6; margin: 20px 0;\">\n                If you didn't create an account with us, please ignore this email. If you have any questions, please contact us at <strong>0715377835</strong> or reply to this email.\n              </p>\n              \n              <div style=\"text-align: center; margin: 30px 0;\">\n                <a href=\"${siteUrl}/verify-email\" style=\"display: inline-block; background-color: #667eea; color: #ffffff; text-decoration: none; padding: 12px 30px; border-radius: 5px; font-weight: bold;\">Verify Email</a>\n              </div>\n              \n              <p style=\"color: #666666; font-size: 14px; line-height: 1.6; margin: 20px 0;\">\n                \"Trust in the Lord with all your heart.\" - Proverbs 3:5\n              </p>\n              \n              <p style=\"color: #999999; font-size: 14px; line-height: 1.6; margin: 30px 0 0 0; border-top: 1px solid #eeeeee; padding-top: 20px;\">\n                Blessings,<br>\n                <strong>The ${siteName} Team</strong>\n              </p>\n            </td>\n          </tr>\n        </table>\n      </td>\n    </tr>\n    <tr>\n      <td style=\"padding: 20px; text-align: center; background-color: #f8f9fa; color: #999999; font-size: 12px;\">\n        <p style=\"margin: 0;\">This is an automated verification email. Please do not reply to this message.</p>\n        <p style=\"margin: 5px 0 0 0;\">¬© ${new Date().getFullYear()} ${siteName}. All rights reserved.</p>\n      </td>\n    </tr>\n  </table>\n</body>\n</html>\n    `,\n    text: `\nWelcome! Verify Your Email\n\nDear ${name},\n\nThank you for signing up for ${siteName}. To complete your registration and secure your account, please verify your email address using the code below.\n\nYour Verification Code:\n${verificationCode}\n\nThis code will expire in ${codeExpiryMinutes} minutes.\n\nIf you didn't create an account with us, please ignore this email. If you have any questions, please contact us at 0715377835 or reply to this email.\n\nVerify your email: ${siteUrl}/verify-email\n\n\"Trust in the Lord with all your heart.\" - Proverbs 3:5\n\nBlessings,\nThe ${siteName} Team\n\n---\nThis is an automated verification email. Please do not reply to this message.\n¬© ${new Date().getFullYear()} ${siteName}. All rights reserved.\n    `.trim()\n  }\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 609, "column": 0}, "map": {"version":3,"sources":["file:///home/lod/Downloads/jwrc/app/api/volunteers/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\nimport { PrismaClient } from \"@prisma/client\"\nimport { randomUUID } from \"crypto\"\nimport jwt from \"jsonwebtoken\"\nimport { getVolunteerConfirmationEmail } from \"@/lib/email-templates\"\n\nconst prisma = new PrismaClient()\n\nasync function ensureTable() {\n  await prisma.$executeRawUnsafe(`\n    CREATE TABLE IF NOT EXISTS volunteer_applications (\n      id TEXT PRIMARY KEY,\n      name TEXT NOT NULL,\n      email TEXT NOT NULL,\n      phone TEXT,\n      role_id TEXT,\n      role_title TEXT,\n      status TEXT DEFAULT 'pending',\n      admin_message TEXT,\n      created_at TIMESTAMP WITH TIME ZONE DEFAULT now(),\n      responded_at TIMESTAMP WITH TIME ZONE\n    )\n  `)\n  await prisma.$executeRawUnsafe(`ALTER TABLE volunteer_applications ADD COLUMN IF NOT EXISTS admin_message TEXT`)\n}\n\nfunction getTokenFromHeaders(req: Request) {\n  const cookie = req.headers.get('cookie') || ''\n  const match = cookie.split(';').map(c=>c.trim()).find(c=>c.startsWith('token='))\n  if (!match) return null\n  return match.split('=')[1]\n}\n\nexport const dynamic = 'force-dynamic'\n\n\nexport async function POST(req: Request) {\n  // public: submit volunteer application\n  try {\n    const body = await req.json()\n    const { name, email, phone, roleId, roleTitle } = body || {}\n    const errors: Record<string,string> = {}\n    if (!name) errors.name = 'Name is required'\n    if (!email) errors.email = 'Email is required'\n    if (!roleId && !roleTitle) errors.role = 'Role is required'\n    if (Object.keys(errors).length) return NextResponse.json({ errors }, { status: 400 })\n\n    await ensureTable()\n    const id = randomUUID()\n    await prisma.$executeRawUnsafe(`INSERT INTO volunteer_applications (id, name, email, phone, role_id, role_title, status, created_at) VALUES ($1,$2,$3,$4,$5,$6,'pending',NOW())`, id, String(name), String(email), phone ? String(phone) : null, roleId ? String(roleId) : null, roleTitle ? String(roleTitle) : null)\n    \n    // Send professional confirmation email\n    try {\n      if (process.env.SMTP_HOST && process.env.SMTP_USER) {\n        try {\n          const nodemailer = await import('nodemailer')\n          const transporter = nodemailer.createTransport({\n            host: process.env.SMTP_HOST,\n            port: Number(process.env.SMTP_PORT || 587),\n            secure: (process.env.SMTP_SECURE === 'true'),\n            auth: { user: process.env.SMTP_USER, pass: process.env.SMTP_PASS },\n          })\n          \n          const emailContent = getVolunteerConfirmationEmail(\n            String(name),\n            roleTitle ? String(roleTitle) : roleId ? String(roleId) : 'Volunteer Position'\n          )\n          \n          await transporter.sendMail({\n            from: process.env.SMTP_FROM || process.env.SMTP_USER,\n            to: String(email),\n            subject: emailContent.subject,\n            html: emailContent.html,\n            text: emailContent.text,\n          })\n        } catch (e) {\n          console.warn('Failed to send confirmation email', e)\n        }\n      }\n    } catch (e) {\n      console.warn('Email send skipped', e)\n    }\n    \n    return NextResponse.json({ application: { id, name, email, phone, roleId, roleTitle, status: 'pending' } }, { status: 201 })\n  } catch (e) {\n    console.error(e)\n    return NextResponse.json({ error: 'Server error' }, { status: 500 })\n  }\n}\n\nexport async function GET(req: Request) {\n  try {\n    const url = new URL(req.url)\n    const forEmail = url.searchParams.get('email')\n    const summary = url.searchParams.get('summary')\n    // if email provided return applications for that email (public for user dashboard)\n    await ensureTable()\n\n    if (summary === 'roles') {\n      const rows: any[] = await prisma.$queryRawUnsafe(\n        `SELECT role_id as \"roleId\", role_title as \"roleTitle\", status, COUNT(*)::int as count FROM volunteer_applications GROUP BY role_id, role_title, status`\n      )\n\n      const aggregated: Record<string, any> = {}\n      for (const row of rows) {\n        const key = `${row.roleId ?? ''}|${row.roleTitle ?? ''}`\n        if (!aggregated[key]) {\n          aggregated[key] = {\n            roleId: row.roleId || null,\n            roleTitle: row.roleTitle || null,\n            total: 0,\n            approved: 0,\n            pending: 0,\n            rejected: 0,\n          }\n        }\n        const bucket = aggregated[key]\n        const count = typeof row.count === 'number' ? row.count : Number(row.count || 0)\n        bucket.total += count\n        if (row.status === 'approved') bucket.approved += count\n        else if (row.status === 'pending') bucket.pending += count\n        else if (row.status === 'rejected') bucket.rejected += count\n      }\n\n      return NextResponse.json({ roles: Object.values(aggregated) })\n    }\n\n    if (forEmail) {\n      const rows: any[] = await prisma.$queryRawUnsafe(`SELECT id, name, email, phone, role_id as \"roleId\", role_title as \"roleTitle\", status, admin_message as \"adminMessage\", created_at as \"createdAt\", responded_at as \"respondedAt\" FROM volunteer_applications WHERE lower(email) = lower($1) ORDER BY created_at DESC`, forEmail)\n      return NextResponse.json({ applications: rows })\n    }\n\n    // admin-only: list all\n    const token = getTokenFromHeaders(req)\n    const secret = process.env.JWT_SECRET || 'dev-secret'\n    if (!token) return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n    let payload: any = null\n    try { payload = jwt.verify(token, secret) } catch (e) { return NextResponse.json({ error: 'Unauthorized' }, { status: 401 }) }\n    if (payload.role !== 'admin') return NextResponse.json({ error: 'Forbidden' }, { status: 403 })\n\n    const rows: any[] = await prisma.$queryRawUnsafe(`SELECT id, name, email, phone, role_id as \"roleId\", role_title as \"roleTitle\", status, admin_message as \"adminMessage\", created_at as \"createdAt\", responded_at as \"respondedAt\" FROM volunteer_applications ORDER BY created_at DESC`)\n    return NextResponse.json({ applications: rows })\n  } catch (e) {\n    console.error(e)\n    return NextResponse.json({ error: 'Server error' }, { status: 500 })\n  }\n}\n\nexport async function PATCH(req: Request) {\n  // admin respond (approve/reject)\n  try {\n    const token = getTokenFromHeaders(req)\n    const secret = process.env.JWT_SECRET || 'dev-secret'\n    if (!token) return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n    let payload: any = null\n    try { payload = jwt.verify(token, secret) } catch (e) { return NextResponse.json({ error: 'Unauthorized' }, { status: 401 }) }\n    if (payload.role !== 'admin') return NextResponse.json({ error: 'Forbidden' }, { status: 403 })\n\n    const body = await req.json()\n    const { id, action, message } = body || {}\n    if (!id || !action) return NextResponse.json({ error: 'Missing id or action' }, { status: 400 })\n    if (!['approve','reject'].includes(action)) return NextResponse.json({ error: 'Invalid action' }, { status: 400 })\n\n    await ensureTable()\n\n    const appRow: any[] = await prisma.$queryRawUnsafe(`SELECT email FROM volunteer_applications WHERE id = $1`, id)\n    const applicationEmail = appRow && appRow[0] ? appRow[0].email : null\n\n    const status = action === 'approve' ? 'approved' : 'rejected'\n    await prisma.$executeRawUnsafe(`UPDATE volunteer_applications SET status = $1, admin_message = $2, responded_at = NOW() WHERE id = $3`, status, message ? String(message) : null, id)\n\n    // Keep user record aligned with volunteer decision\n    if (applicationEmail) {\n      try {\n        await prisma.user.updateMany({\n          where: { email: { equals: String(applicationEmail), mode: 'insensitive' } },\n          data: { isVolunteer: status === 'approved' },\n        })\n      } catch (e) {\n        console.warn('Failed to sync volunteer flag to user', e)\n      }\n    }\n\n    return NextResponse.json({ ok: true })\n  } catch (e) {\n    console.error(e)\n    return NextResponse.json({ error: 'Server error' }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":"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"}}]
}