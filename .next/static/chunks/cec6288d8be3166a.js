(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20383,e=>{"use strict";let t;var n,a,r,s,i,o,l,c=e.i(96243),d=e.i(93221),u=e.i(26587),m=e.i(10965);let h=(0,m.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var f=e.i(2870),p=e.i(60039);let g=(0,m.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var x=e.i(74679);let v=(0,m.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),y=(0,m.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var b=e.i(54210);let j=(0,m.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var w=e.i(65739);let N=(0,m.default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var k=e.i(2544),S=e.i(91071),E=e.i(49056),C=e.i(70271),A=e.i(34290),R=e.i(68793),M=e.i(67881),T=e.i(20682),D=e.i(78896),P=e.i(866),F=e.i(29517),O=e.i(71429),B=d["useId".toString()]||(()=>void 0),L=0;function I(e){let[t,n]=d.useState(B());return(0,O.useLayoutEffect)(()=>{e||n(e=>e??String(L++))},[e]),e||(t?`radix-${t}`:"")}var _=e.i(88552),z=e.i(8803),$=e.i(20673),H=e.i(50886),W="focusScope.autoFocusOnMount",U="focusScope.autoFocusOnUnmount",J={bubbles:!1,cancelable:!0},K=d.forwardRef((e,t)=>{let{loop:n=!1,trapped:a=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...i}=e,[o,l]=d.useState(null),u=(0,H.useCallbackRef)(r),m=(0,H.useCallbackRef)(s),h=d.useRef(null),f=(0,P.useComposedRefs)(t,e=>l(e)),p=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(a){let e=function(e){if(p.paused||!o)return;let t=e.target;o.contains(t)?h.current=t:Y(h.current,{select:!0})},t=function(e){if(p.paused||!o)return;let t=e.relatedTarget;null!==t&&(o.contains(t)||Y(h.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let n=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&Y(o)});return o&&n.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[a,o,p.paused]),d.useEffect(()=>{if(o){X.add(p);let e=document.activeElement;if(!o.contains(e)){let t=new CustomEvent(W,J);o.addEventListener(W,u),o.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let n=document.activeElement;for(let a of e)if(Y(a,{select:t}),document.activeElement!==n)return}(V(o).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&Y(o))}return()=>{o.removeEventListener(W,u),setTimeout(()=>{let t=new CustomEvent(U,J);o.addEventListener(U,m),o.dispatchEvent(t),t.defaultPrevented||Y(e??document.body,{select:!0}),o.removeEventListener(U,m),X.remove(p)},0)}}},[o,u,m,p]);let g=d.useCallback(e=>{if(!n&&!a||p.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){var s;let t,a=e.currentTarget,[i,o]=[q(t=V(s=a),s),q(t.reverse(),s)];i&&o?e.shiftKey||r!==o?e.shiftKey&&r===i&&(e.preventDefault(),n&&Y(o,{select:!0})):(e.preventDefault(),n&&Y(i,{select:!0})):r===a&&e.preventDefault()}},[n,a,p.paused]);return(0,c.jsx)($.Primitive.div,{tabIndex:-1,...i,ref:f,onKeyDown:g})});function V(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function q(e,t){for(let n of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(n,{upTo:t}))return n}function Y(e,{select:t=!1}={}){if(e&&e.focus){var n;let a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&(n=e)instanceof HTMLInputElement&&"select"in n&&t&&e.select()}}K.displayName="FocusScope";var X=(t=[],{add(e){let n=t[0];e!==n&&n?.pause(),(t=Z(t,e)).unshift(e)},remove(e){t=Z(t,e),t[0]?.resume()}});function Z(e,t){let n=[...e],a=n.indexOf(t);return -1!==a&&n.splice(a,1),n}var G=e.i(51545),Q=e.i(60737),ee=0;function et(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var en=function(){return(en=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function ea(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)0>t.indexOf(a[r])&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n}var er=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),es="width-before-scroll-bar";function ei(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var eo="undefined"!=typeof window?d.useLayoutEffect:d.useEffect,el=new WeakMap,ec=(void 0===n&&(n={}),(void 0===a&&(a=function(e){return e}),r=[],s=!1,i={read:function(){if(s)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:null},useMedium:function(e){var t=a(e,s);return r.push(t),function(){r=r.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(s=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){s=!0;var t=[];if(r.length){var n=r;r=[],n.forEach(e),t=r}var a=function(){var n=t;t=[],n.forEach(e)},i=function(){return Promise.resolve().then(a)};i(),r={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),r}}}}).options=en({async:!0,ssr:!1},n),i),ed=function(){},eu=d.forwardRef(function(e,t){var n,a,r,s,i=d.useRef(null),o=d.useState({onScrollCapture:ed,onWheelCapture:ed,onTouchMoveCapture:ed}),l=o[0],c=o[1],u=e.forwardProps,m=e.children,h=e.className,f=e.removeScrollBar,p=e.enabled,g=e.shards,x=e.sideCar,v=e.noRelative,y=e.noIsolation,b=e.inert,j=e.allowPinchZoom,w=e.as,N=e.gapMode,k=ea(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=(n=[i,t],a=function(e){return n.forEach(function(t){return ei(t,e)})},(r=(0,d.useState)(function(){return{value:null,callback:a,facade:{get current(){return r.value},set current(value){var e=r.value;e!==value&&(r.value=value,r.callback(value,e))}}}})[0]).callback=a,s=r.facade,eo(function(){var e=el.get(s);if(e){var t=new Set(e),a=new Set(n),r=s.current;t.forEach(function(e){a.has(e)||ei(e,null)}),a.forEach(function(e){t.has(e)||ei(e,r)})}el.set(s,n)},[n]),s),E=en(en({},k),l);return d.createElement(d.Fragment,null,p&&d.createElement(x,{sideCar:ec,removeScrollBar:f,shards:g,noRelative:v,noIsolation:y,inert:b,setCallbacks:c,allowPinchZoom:!!j,lockRef:i,gapMode:N}),u?d.cloneElement(d.Children.only(m),en(en({},E),{ref:S})):d.createElement(void 0===w?"div":w,en({},E,{className:h,ref:S}),m))});eu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},eu.classNames={fullWidth:es,zeroRight:er};var em=function(e){var t=e.sideCar,n=ea(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw Error("Sidecar medium not found");return d.createElement(a,en({},n))};em.isSideCarExport=!0;var eh=function(){var e=0,t=null;return{add:function(n){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=l||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);return t&&e.setAttribute("nonce",t),e}())){var a,r;(a=t).styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n)),r=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(r)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ef=function(){var e=eh();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ep=function(){var e=ef();return function(t){return e(t.styles,t.dynamic),null}},eg={left:0,top:0,right:0,gap:0},ex=function(e){return parseInt(e||"",10)||0},ev=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],a=t["padding"===e?"paddingTop":"marginTop"],r=t["padding"===e?"paddingRight":"marginRight"];return[ex(n),ex(a),ex(r)]},ey=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return eg;var t=ev(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},eb=ep(),ej="data-scroll-locked",ew=function(e,t,n,a){var r=e.left,s=e.top,i=e.right,o=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(a,";\n   padding-right: ").concat(o,"px ").concat(a,";\n  }\n  body[").concat(ej,"] {\n    overflow: hidden ").concat(a,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(a,";"),"margin"===n&&"\n    padding-left: ".concat(r,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(a,";\n    "),"padding"===n&&"padding-right: ".concat(o,"px ").concat(a,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(er," {\n    right: ").concat(o,"px ").concat(a,";\n  }\n  \n  .").concat(es," {\n    margin-right: ").concat(o,"px ").concat(a,";\n  }\n  \n  .").concat(er," .").concat(er," {\n    right: 0 ").concat(a,";\n  }\n  \n  .").concat(es," .").concat(es," {\n    margin-right: 0 ").concat(a,";\n  }\n  \n  body[").concat(ej,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},eN=function(){var e=parseInt(document.body.getAttribute(ej)||"0",10);return isFinite(e)?e:0},ek=function(){d.useEffect(function(){return document.body.setAttribute(ej,(eN()+1).toString()),function(){var e=eN()-1;e<=0?document.body.removeAttribute(ej):document.body.setAttribute(ej,e.toString())}},[])},eS=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,r=void 0===a?"margin":a;ek();var s=d.useMemo(function(){return ey(r)},[r]);return d.createElement(eb,{styles:ew(s,!t,r,n?"":"!important")})},eE=!1;if("undefined"!=typeof window)try{var eC=Object.defineProperty({},"passive",{get:function(){return eE=!0,!0}});window.addEventListener("test",eC,eC),window.removeEventListener("test",eC,eC)}catch(e){eE=!1}var eA=!!eE&&{passive:!1},eR=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&(n.overflowY!==n.overflowX||"TEXTAREA"===e.tagName||"visible"!==n[t])},eM=function(e,t){var n=t.ownerDocument,a=t;do{if("undefined"!=typeof ShadowRoot&&a instanceof ShadowRoot&&(a=a.host),eT(e,a)){var r=eD(e,a);if(r[1]>r[2])return!0}a=a.parentNode}while(a&&a!==n.body)return!1},eT=function(e,t){return"v"===e?eR(t,"overflowY"):eR(t,"overflowX")},eD=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},eP=function(e,t,n,a,r){var s,i=(s=window.getComputedStyle(t).direction,"h"===e&&"rtl"===s?-1:1),o=i*a,l=n.target,c=t.contains(l),d=!1,u=o>0,m=0,h=0;do{if(!l)break;var f=eD(e,l),p=f[0],g=f[1]-f[2]-i*p;(p||g)&&eT(e,l)&&(m+=g,h+=p);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l))return u&&(r&&1>Math.abs(m)||!r&&o>m)?d=!0:!u&&(r&&1>Math.abs(h)||!r&&-o>h)&&(d=!0),d},eF=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eO=function(e){return[e.deltaX,e.deltaY]},eB=function(e){return e&&"current"in e?e.current:e},eL=0,eI=[];let e_=(o=function(e){var t=d.useRef([]),n=d.useRef([0,0]),a=d.useRef(),r=d.useState(eL++)[0],s=d.useState(ep)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var t=(function(e,t,n){if(n||2==arguments.length)for(var a,r=0,s=t.length;r<s;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(eB),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var o=d.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var r,s=eF(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-s[0],c="deltaY"in e?e.deltaY:o[1]-s[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var m=window.getSelection(),h=m&&m.anchorNode;if(h&&(h===d||h.contains(d)))return!1;var f=eM(u,d);if(!f)return!0;if(f?r=u:(r="v"===u?"h":"v",f=eM(u,d)),!f)return!1;if(!a.current&&"changedTouches"in e&&(l||c)&&(a.current=r),!r)return!0;var p=a.current||r;return eP(p,t,e,"h"===p?l:c,!0)},[]),l=d.useCallback(function(e){if(eI.length&&eI[eI.length-1]===s){var n="deltaY"in e?eO(e):eF(e),a=t.current.filter(function(t){var a;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(a=t.delta,a[0]===n[0]&&a[1]===n[1])})[0];if(a&&a.should){e.cancelable&&e.preventDefault();return}if(!a){var r=(i.current.shards||[]).map(eB).filter(Boolean).filter(function(t){return t.contains(e.target)});(r.length>0?o(e,r[0]):!i.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),c=d.useCallback(function(e,n,a,r){var s={name:e,delta:n,target:a,should:r,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(a)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),u=d.useCallback(function(e){n.current=eF(e),a.current=void 0},[]),m=d.useCallback(function(t){c(t.type,eO(t),t.target,o(t,e.lockRef.current))},[]),h=d.useCallback(function(t){c(t.type,eF(t),t.target,o(t,e.lockRef.current))},[]);d.useEffect(function(){return eI.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",l,eA),document.addEventListener("touchmove",l,eA),document.addEventListener("touchstart",u,eA),function(){eI=eI.filter(function(e){return e!==s}),document.removeEventListener("wheel",l,eA),document.removeEventListener("touchmove",l,eA),document.removeEventListener("touchstart",u,eA)}},[]);var f=e.removeScrollBar,p=e.inert;return d.createElement(d.Fragment,null,p?d.createElement(s,{styles:"\n  .block-interactivity-".concat(r," {pointer-events: none;}\n  .allow-interactivity-").concat(r," {pointer-events: all;}\n")}):null,f?d.createElement(eS,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},ec.useMedium(o),em);var ez=d.forwardRef(function(e,t){return d.createElement(eu,en({},e,{ref:t,sideCar:e_}))});ez.classNames=eu.classNames;var e$=new WeakMap,eH=new WeakMap,eW={},eU=0,eJ=function(e){return e&&(e.host||eJ(e.parentNode))},eK=function(e,t,n,a){var r=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var n=eJ(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});eW[n]||(eW[n]=new WeakMap);var s=eW[n],i=[],o=new Set,l=new Set(r),c=function(e){!e||o.has(e)||(o.add(e),c(e.parentNode))};r.forEach(c);var d=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,function(e){if(o.has(e))d(e);else try{var t=e.getAttribute(a),r=null!==t&&"false"!==t,l=(e$.get(e)||0)+1,c=(s.get(e)||0)+1;e$.set(e,l),s.set(e,c),i.push(e),1===l&&r&&eH.set(e,!0),1===c&&e.setAttribute(n,"true"),r||e.setAttribute(a,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return d(t),o.clear(),eU++,function(){i.forEach(function(e){var t=e$.get(e)-1,r=s.get(e)-1;e$.set(e,t),s.set(e,r),t||(eH.has(e)||e.removeAttribute(a),eH.delete(e)),r||e.removeAttribute(n)}),--eU||(e$=new WeakMap,e$=new WeakMap,eH=new WeakMap,eW={})}},eV=function(e,t,n){void 0===n&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),r=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return r?(a.push.apply(a,Array.from(r.querySelectorAll("[aria-live], script"))),eK(a,r,n,"aria-hidden")):function(){return null}},eq=e.i(64701),eY="Dialog",[eX,eZ]=(0,F.createContextScope)(eY),[eG,eQ]=eX(eY),e0=e=>{let{__scopeDialog:t,children:n,open:a,defaultOpen:r,onOpenChange:s,modal:i=!0}=e,o=d.useRef(null),l=d.useRef(null),[u=!1,m]=(0,_.useControllableState)({prop:a,defaultProp:r,onChange:s});return(0,c.jsx)(eG,{scope:t,triggerRef:o,contentRef:l,contentId:I(),titleId:I(),descriptionId:I(),open:u,onOpenChange:m,onOpenToggle:d.useCallback(()=>m(e=>!e),[m]),modal:i,children:n})};e0.displayName=eY;var e1="DialogTrigger";d.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,r=eQ(e1,n),s=(0,P.useComposedRefs)(t,r.triggerRef);return(0,c.jsx)($.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":tc(r.open),...a,ref:s,onClick:(0,D.composeEventHandlers)(e.onClick,r.onOpenToggle)})}).displayName=e1;var e2="DialogPortal",[e4,e6]=eX(e2,{forceMount:void 0}),e3=e=>{let{__scopeDialog:t,forceMount:n,children:a,container:r}=e,s=eQ(e2,t);return(0,c.jsx)(e4,{scope:t,forceMount:n,children:d.Children.map(a,e=>(0,c.jsx)(Q.Presence,{present:n||s.open,children:(0,c.jsx)(G.Portal,{asChild:!0,container:r,children:e})}))})};e3.displayName=e2;var e5="DialogOverlay",e7=d.forwardRef((e,t)=>{let n=e6(e5,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,s=eQ(e5,e.__scopeDialog);return s.modal?(0,c.jsx)(Q.Presence,{present:a||s.open,children:(0,c.jsx)(e9,{...r,ref:t})}):null});e7.displayName=e5;var e9=d.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,r=eQ(e5,n);return(0,c.jsx)(ez,{as:eq.Slot,allowPinchZoom:!0,shards:[r.contentRef],children:(0,c.jsx)($.Primitive.div,{"data-state":tc(r.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),e8="DialogContent",te=d.forwardRef((e,t)=>{let n=e6(e8,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,s=eQ(e8,e.__scopeDialog);return(0,c.jsx)(Q.Presence,{present:a||s.open,children:s.modal?(0,c.jsx)(tt,{...r,ref:t}):(0,c.jsx)(tn,{...r,ref:t})})});te.displayName=e8;var tt=d.forwardRef((e,t)=>{let n=eQ(e8,e.__scopeDialog),a=d.useRef(null),r=(0,P.useComposedRefs)(t,n.contentRef,a);return d.useEffect(()=>{let e=a.current;if(e)return eV(e)},[]),(0,c.jsx)(ta,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,D.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:(0,D.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:(0,D.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),tn=d.forwardRef((e,t)=>{let n=eQ(e8,e.__scopeDialog),a=d.useRef(!1),r=d.useRef(!1);return(0,c.jsx)(ta,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||n.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(r.current=!0));let s=t.target;n.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&r.current&&t.preventDefault()}})}),ta=d.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:s,...i}=e,o=eQ(e8,n),l=d.useRef(null),u=(0,P.useComposedRefs)(t,l);return d.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??et()),document.body.insertAdjacentElement("beforeend",e[1]??et()),ee++,()=>{1===ee&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ee--}},[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(K,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:s,children:(0,c.jsx)(z.DismissableLayer,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":tc(o.open),...i,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(th,{titleId:o.titleId}),(0,c.jsx)(tf,{contentRef:l,descriptionId:o.descriptionId})]})]})}),tr="DialogTitle",ts=d.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,r=eQ(tr,n);return(0,c.jsx)($.Primitive.h2,{id:r.titleId,...a,ref:t})});ts.displayName=tr;var ti="DialogDescription";d.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,r=eQ(ti,n);return(0,c.jsx)($.Primitive.p,{id:r.descriptionId,...a,ref:t})}).displayName=ti;var to="DialogClose",tl=d.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,r=eQ(to,n);return(0,c.jsx)($.Primitive.button,{type:"button",...a,ref:t,onClick:(0,D.composeEventHandlers)(e.onClick,()=>r.onOpenChange(!1))})});function tc(e){return e?"open":"closed"}tl.displayName=to;var td="DialogTitleWarning",[tu,tm]=(0,F.createContext)(td,{contentName:e8,titleName:tr,docsSlug:"dialog"}),th=({titleId:e})=>{let t=tm(td),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},tf=({contentRef:e,descriptionId:t})=>{let n=tm("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n.contentName}}.`;return d.useEffect(()=>{let n=e.current?.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},tp=e.i(34853),tp=tp,tg=e.i(47163);function tx({...e}){return(0,c.jsx)(e0,{"data-slot":"dialog",...e})}function tv({...e}){return(0,c.jsx)(e3,{"data-slot":"dialog-portal",...e})}function ty({className:e,...t}){return(0,c.jsx)(e7,{"data-slot":"dialog-overlay",className:(0,tg.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function tb({className:e,children:t,showCloseButton:n=!0,...a}){return(0,c.jsxs)(tv,{"data-slot":"dialog-portal",children:[(0,c.jsx)(ty,{}),(0,c.jsxs)(te,{"data-slot":"dialog-content",className:(0,tg.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...a,children:[t,n&&(0,c.jsxs)(tl,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,c.jsx)(tp.default,{}),(0,c.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function tj({className:e,...t}){return(0,c.jsx)("div",{"data-slot":"dialog-header",className:(0,tg.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function tw({className:e,...t}){return(0,c.jsx)("div",{"data-slot":"dialog-footer",className:(0,tg.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function tN({className:e,...t}){return(0,c.jsx)(ts,{"data-slot":"dialog-title",className:(0,tg.cn)("text-lg leading-none font-semibold",e),...t})}function tk({className:e,...t}){return(0,c.jsx)("textarea",{"data-slot":"textarea",className:(0,tg.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var tS=e.i(70065),tE=e.i(94179);function tC(){let[e,t]=(0,d.useState)(""),[n,a]=(0,d.useState)(""),[r,s]=(0,d.useState)(!0),[i,o]=(0,d.useState)("overview"),[l,m]=(0,d.useState)(!1),D=(0,u.useRouter)(),[P,F]=(0,d.useState)([]),[O,B]=(0,d.useState)(""),[L,I]=(0,d.useState)(""),[_,z]=(0,d.useState)([]),[$,H]=(0,d.useState)({}),[W,U]=(0,d.useState)(null),[J,K]=(0,d.useState)(!1),[V,q]=(0,d.useState)(!1),[Y,X]=(0,d.useState)(""),[Z,G]=(0,d.useState)(""),[Q,ee]=(0,d.useState)(""),[et,en]=(0,d.useState)(""),[ea,er]=(0,d.useState)(""),[es,ei]=(0,d.useState)({}),[eo,el]=(0,d.useState)(!1);(0,d.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me",{credentials:"include"}),n=await e.json();if(!n?.user||"admin"!==n.user.role)return void D.push("/admin/login");t(n.user.email),a(n.user.name||"")}catch(e){D.push("/admin/login")}})()},[D]),(0,d.useEffect)(()=>{if("announcements"!==i)return;let e=!0;return(async()=>{try{let t=await fetch("/api/announcements",{credentials:"include"}),n=await t.json();if(!e)return;F(n?.announcements||[])}catch(e){console.error("Failed to load announcements",e)}})(),()=>{e=!1}},[i]),(0,d.useEffect)(()=>{if("events"!==i)return;let e=!0;return(async()=>{try{let t=await fetch("/api/events",{credentials:"include"}),n=await t.json();if(!e)return;z(n?.events||[])}catch(e){console.error("Failed to load events",e)}})(),()=>{e=!1}},[i]);let[ec,ed]=(0,d.useState)([]);(0,d.useEffect)(()=>{if("volunteers"!==i)return;let e=!0;return(async()=>{try{let t=await fetch("/api/volunteers",{credentials:"include"}),n=await t.json();if(!e)return;ed(n?.applications||[])}catch(e){console.error("Failed to load volunteer applications",e)}})(),()=>{e=!1}},[i]);let[eu,em]=(0,d.useState)([]),[eh,ef]=(0,d.useState)(null),[ep,eg]=(0,d.useState)(0),[ex,ev]=(0,d.useState)(!1),[ey,eb]=(0,d.useState)(null),[ej,ew]=(0,d.useState)(""),[eN,ek]=(0,d.useState)(!1),[eS,eE]=(0,d.useState)(null),{toast:eC}=(0,T.useToast)();async function eA(e){if(confirm("Delete this announcement?"))try{let t=await fetch("/api/announcements",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})});if(t.ok)await t.json(),F(t=>t.filter(t=>t.id!==e));else{let e=await t.json();console.error("Failed to delete announcement",e),alert("Failed to delete announcement: "+(e?.error||t.status))}}catch(e){console.error(e),alert("Failed to delete announcement")}}async function eR(e){if(confirm("Delete this event?"))try{let t=await fetch("/api/events",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})});if(t.ok)z(t=>t.filter(t=>t.id!==e));else{let e=await t.json();console.error("Failed to delete event",e),alert("Failed to delete event: "+(e?.error||t.status))}}catch(e){console.error(e),alert("Failed to delete event")}}(0,d.useEffect)(()=>{if("suggestions"!==i)return;let e=!0;async function t(){try{let t=await fetch("/api/suggestions",{credentials:"include"}),n=await t.json();if(!e)return;em(n?.suggestions||[])}catch(e){console.error("Failed to load suggestions",e)}}t();let n=setInterval(()=>{e&&t()},8e3);return()=>{e=!1,clearInterval(n)}},[i]),(0,d.useEffect)(()=>{let e=!0;try{let e=localStorage.getItem("adminSuggestionsLastSeen");e&&ef(e)}catch(e){}async function t(){try{let t=await fetch("/api/suggestions",{credentials:"include"});if(!t.ok)return;let n=await t.json();if(!e)return;let a=n?.suggestions||[];if(a.length>0){let e=eh?new Date(eh):null,t=e?a.filter(t=>new Date(t.createdAt)>e).length:a.length;eg(t)}else eg(0)}catch(e){}}t();let n=setInterval(t,1e4);return()=>{e=!1,clearInterval(n)}},[eh]),(0,d.useEffect)(()=>{if("suggestions"===i){let e=new Date().toISOString();try{localStorage.setItem("adminSuggestionsLastSeen",e)}catch(e){}ef(e),eg(0)}},[i]);let eM=[{label:"Total Donations",value:"$45,230",change:"+12.5%",icon:p.DollarSign,color:"green"},{label:"Active Volunteers",value:"128",change:"+8 this month",icon:f.Users,color:"blue"},{label:"Blog Posts",value:"24",change:"+3 new",icon:g,color:"purple"},{label:"Upcoming Events",value:"12",change:"6 this week",icon:x.Calendar,color:"orange"}];return(0,c.jsxs)("div",{className:"min-h-screen bg-gray-100 dark:bg-slate-900",children:[(0,c.jsx)("header",{className:"bg-white dark:bg-slate-800 shadow sticky top-0 z-40",children:(0,c.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("button",{onClick:()=>s(!r),className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700",children:r?(0,c.jsx)(A.X,{className:"w-6 h-6"}):(0,c.jsx)(C.Menu,{className:"w-6 h-6"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),(0,c.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e})]})]}),(0,c.jsxs)(M.Button,{onClick:()=>{fetch("/api/auth/logout",{method:"POST"}).finally(()=>D.push("/admin/login"))},variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 bg-transparent",children:[(0,c.jsx)(v,{className:"w-4 h-4 mr-2"}),"Logout"]})]})}),(0,c.jsxs)("div",{className:"flex h-[calc(100vh-70px)]",children:[(0,c.jsx)("aside",{className:`${r?"w-64":"w-0"} bg-gray-900 text-white overflow-y-auto transition-all duration-300 hidden lg:block`,children:(0,c.jsx)("nav",{className:"p-6 space-y-2",children:[{label:"Overview",icon:h,id:"overview"},{label:"Announcements",icon:S.MessageSquare,id:"announcements"},{label:"Sermons",icon:k.BookOpen,id:"sermons"},{label:"Blog Posts",icon:g,id:"blog"},{label:"Events",icon:x.Calendar,id:"events"},{label:"Donations",icon:p.DollarSign,id:"donations"},{label:"Volunteers",icon:f.Users,id:"volunteers"},{label:"Trivia Management",icon:h,id:"trivia"},{label:"Suggestions",icon:S.MessageSquare,id:"suggestions"},{label:"Settings",icon:E.Settings,id:"settings"}].map(e=>(0,c.jsxs)("button",{onClick:()=>o(e.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition ${i===e.id?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800"}`,children:[(0,c.jsx)(e.icon,{className:"w-5 h-5"}),(0,c.jsxs)("span",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{children:e.label}),"suggestions"===e.id&&ep>0&&(0,c.jsx)("span",{className:"text-xs bg-red-600 text-white rounded-full px-2 py-0.5",children:ep})]})]},e.id))})}),(0,c.jsxs)("main",{className:"flex-1 overflow-y-auto p-6",children:["overview"===i&&(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:eM.map((e,t)=>(0,c.jsxs)(tS.Card,{className:"bg-white dark:bg-slate-800 p-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsx)("div",{className:`w-12 h-12 bg-${e.color}-100 dark:bg-${e.color}-900/30 rounded-lg flex items-center justify-center`,children:(0,c.jsx)(e.icon,{className:`w-6 h-6 text-${e.color}-600`})}),(0,c.jsx)(w.TrendingUp,{className:`w-5 h-5 text-${e.color}-600`})]}),(0,c.jsx)("h3",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.label}),(0,c.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:e.value}),(0,c.jsx)("p",{className:`text-xs text-${e.color}-600 mt-2`,children:e.change})]},t))}),(0,c.jsxs)(tS.Card,{className:"bg-white dark:bg-slate-800 p-6",children:[(0,c.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,c.jsx)(N,{className:"w-6 h-6"}),"Recent Activity"]}),(0,c.jsx)("div",{className:"space-y-3",children:[{id:1,type:"donation",user:"John Doe",amount:"$500",time:"2 hours ago",status:"completed"},{id:2,type:"volunteer",user:"Sarah Smith",role:"Youth Program",time:"4 hours ago",status:"pending"},{id:3,type:"suggestion",user:"Mike Johnson",text:"More youth activities",time:"1 day ago",status:"read"},{id:4,type:"event",title:"Bible Study Group",participants:45,time:"2 days ago",status:"live"}].map(e=>(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:["donation"===e.type&&`${e.user} donated ${e.amount}`,"volunteer"===e.type&&`${e.user} signed up for ${e.role}`,"suggestion"===e.type&&`${e.user}: "${e.text}"`,"event"===e.type&&`${e.title} - ${e.participants} participants`]}),(0,c.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.time})]}),(0,c.jsx)(tE.Badge,{className:`${"completed"===e.status?"bg-green-600":"pending"===e.status?"bg-yellow-600":"live"===e.status?"bg-blue-600":"bg-gray-600"}`,children:e.status})]},e.id))})]})]}),"announcements"===i&&(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Manage Announcements"}),(0,c.jsxs)(M.Button,{onClick:()=>m(!l),className:"bg-blue-600 hover:bg-blue-700",children:[(0,c.jsx)(y,{className:"w-4 h-4 mr-2"}),"Add Announcement"]})]}),l&&(0,c.jsxs)(tS.Card,{className:"bg-white dark:bg-slate-800 p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Create New Announcement"}),(0,c.jsxs)("form",{className:"space-y-4",onSubmit:async e=>{e.preventDefault();try{let e=await fetch("/api/announcements",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:O,content:L})});if(e.ok){let e=await (await fetch("/api/announcements")).json();F(e?.announcements||[]),m(!1),B(""),I("")}else{let t=await e.json().catch(()=>({}));console.error("Failed to publish announcement",t),alert("Failed to publish announcement: "+(t?.error||e.status))}}catch(e){console.error(e),alert("Failed to publish announcement")}},children:[(0,c.jsx)("input",{type:"text",value:O,onChange:e=>B(e.target.value),placeholder:"Announcement Title",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-slate-700 dark:text-white"}),(0,c.jsx)("textarea",{placeholder:"Announcement Content",rows:4,value:L,onChange:e=>I(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-slate-700 dark:text-white"}),(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsx)(M.Button,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:"Publish"}),(0,c.jsx)(M.Button,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"})]})]})]}),(0,c.jsx)("div",{className:"space-y-3",children:P.map(e=>(0,c.jsxs)(tS.Card,{className:"bg-white dark:bg-slate-800 p-4 flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.title}),(0,c.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.postedAt?new Date(e.postedAt).toLocaleDateString():""})]}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)(tE.Badge,{className:"bg-green-600",children:"active"}),(0,c.jsx)(M.Button,{size:"sm",variant:"outline",children:(0,c.jsx)(b.Edit2,{className:"w-4 h-4"})}),(0,c.jsx)(M.Button,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 bg-transparent",onClick:()=>eA(e.id),children:(0,c.jsx)(j,{className:"w-4 h-4"})})]})]},e.id))})]}),"sermons"===i&&(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Manage Sermons"}),(0,c.jsxs)(M.Button,{className:"bg-blue-600 hover:bg-blue-700",children:[(0,c.jsx)(y,{className:"w-4 h-4 mr-2"}),"Add Sermon"]})]}),(0,c.jsx)("div",{className:"space-y-3",children:[{id:1,title:"Faith in Uncertain Times",speaker:"Pastor David",date:"2024-01-14",views:342},{id:2,title:"Love Thy Neighbor",speaker:"Pastor Mary",date:"2024-01-07",views:218}].map(e=>(0,c.jsx)(tS.Card,{className:"bg-white dark:bg-slate-800 p-4",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.title}),(0,c.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["By ",e.speaker," • ",e.date," • ",e.views," views"]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsxs)(M.Button,{size:"sm",variant:"outline",children:[(0,c.jsx)(R.Eye,{className:"w-4 h-4 mr-1"}),"View"]}),(0,c.jsx)(M.Button,{size:"sm",variant:"outline",children:(0,c.jsx)(b.Edit2,{className:"w-4 h-4"})}),(0,c.jsx)(M.Button,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 bg-transparent",children:(0,c.jsx)(j,{className:"w-4 h-4"})})]})]})},e.id))})]}),"blog"===i&&(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Manage Blog Posts"}),(0,c.jsxs)(M.Button,{className:"bg-blue-600 hover:bg-blue-700",children:[(0,c.jsx)(y,{className:"w-4 h-4 mr-2"}),"Add Blog Post"]})]}),(0,c.jsx)("div",{className:"space-y-3",children:[{id:1,title:"The Power of Prayer",author:"John Smith",date:"2024-01-10",published:!0},{id:2,title:"Building Community",author:"Sarah Jones",date:"2024-01-12",published:!0}].map(e=>(0,c.jsx)(tS.Card,{className:"bg-white dark:bg-slate-800 p-4",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.title}),(0,c.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["By ",e.author," • ",e.date]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)(tE.Badge,{className:e.published?"bg-green-600":"bg-yellow-600",children:e.published?"Published":"Draft"}),(0,c.jsx)(M.Button,{size:"sm",variant:"outline",children:(0,c.jsx)(b.Edit2,{className:"w-4 h-4"})}),(0,c.jsx)(M.Button,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 bg-transparent",children:(0,c.jsx)(j,{className:"w-4 h-4"})})]})]})},e.id))})]}),"events"===i&&(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Manage Events"}),(0,c.jsxs)(M.Button,{onClick:()=>q(!V),className:"bg-blue-600 hover:bg-blue-700",children:[(0,c.jsx)(y,{className:"w-4 h-4 mr-2"}),"Add Event"]})]}),V&&(0,c.jsxs)(tS.Card,{className:"bg-white dark:bg-slate-800 p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Create New Event"}),(0,c.jsxs)("form",{className:"space-y-4",onSubmit:async e=>{e.preventDefault();let t={};if(Y&&0!==Y.trim().length||(t.title="Title is required"),et?isNaN(Date.parse(et))&&(t.startsAt="Start date/time is invalid"):t.startsAt="Start date/time is required",ea&&isNaN(Date.parse(ea))&&(t.endsAt="End date/time is invalid"),et&&ea&&!t.startsAt&&!t.endsAt){let e=Date.parse(et),n=Date.parse(ea);isNaN(e)||isNaN(n)||!(n<e)||(t.endsAt="End must be after start")}if(Object.keys(t).length>0)return void ei(t);el(!0),ei({});try{let e=await fetch("/api/events",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:Y,description:Z,location:Q,startsAt:et,endsAt:ea})});if(e.ok){let e=await (await fetch("/api/events")).json();z(e?.events||[]),q(!1),X(""),G(""),ee(""),en(""),er("")}else{let t=await e.json().catch(()=>({}));console.error("Failed to create event",t),t?.errors?ei(t.errors):alert("Failed to create event: "+(t?.error||e.status))}}catch(e){console.error(e),alert("Failed to create event")}finally{el(!1)}},children:[(0,c.jsx)("input",{type:"text",value:Y,onChange:e=>{X(e.target.value),ei(e=>{let t={...e};return delete t.title,t})},placeholder:"Event Title",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-slate-700 dark:text-white"}),es.title&&(0,c.jsx)("p",{className:"text-sm text-red-600 mt-1",children:es.title}),(0,c.jsx)("input",{type:"datetime-local",value:et,onChange:e=>{en(e.target.value),ei(e=>{let t={...e};return delete t.startsAt,t})},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-slate-700 dark:text-white"}),es.startsAt&&(0,c.jsx)("p",{className:"text-sm text-red-600 mt-1",children:es.startsAt}),(0,c.jsx)("input",{type:"datetime-local",value:ea,onChange:e=>{er(e.target.value),ei(e=>{let t={...e};return delete t.endsAt,t})},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-slate-700 dark:text-white"}),es.endsAt&&(0,c.jsx)("p",{className:"text-sm text-red-600 mt-1",children:es.endsAt}),(0,c.jsx)("input",{type:"text",value:Q,onChange:e=>ee(e.target.value),placeholder:"Location",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-slate-700 dark:text-white"}),(0,c.jsx)("textarea",{value:Z,onChange:e=>G(e.target.value),placeholder:"Description",rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-slate-700 dark:text-white"}),(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsx)(M.Button,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:"Create"}),(0,c.jsx)(M.Button,{type:"button",variant:"outline",onClick:()=>q(!1),children:"Cancel"})]})]})]}),(0,c.jsx)("div",{className:"space-y-3",children:_.map(e=>(0,c.jsxs)(tS.Card,{className:"bg-white dark:bg-slate-800 p-4 flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.title}),(0,c.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.startsAt?new Date(e.startsAt).toLocaleString():""})]}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)(M.Button,{size:"sm",variant:"outline",onClick:async()=>{try{let t=await fetch(`/api/events/signups?eventId=${e.id}`,{credentials:"include"});if(t.ok){let n=await t.json();H(t=>({...t,[e.id]:n?.signups||[]})),U(e.id),K(!0)}else{let e=await t.json().catch(()=>({}));alert("Failed to load signups: "+(e?.error||t.status))}}catch(e){console.error(e),alert("Failed to load signups")}},children:(0,c.jsx)(R.Eye,{className:"w-4 h-4"})}),(0,c.jsx)(M.Button,{size:"sm",variant:"outline",children:(0,c.jsx)(b.Edit2,{className:"w-4 h-4"})}),(0,c.jsx)(M.Button,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 bg-transparent",onClick:()=>eR(e.id),children:(0,c.jsx)(j,{className:"w-4 h-4"})})]})]},e.id))}),J&&W&&(0,c.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,c.jsxs)("div",{className:"bg-white dark:bg-slate-800 w-[min(900px,95%)] max-h-[80vh] overflow-auto p-6 rounded shadow-lg",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsxs)("h3",{className:"text-xl font-semibold",children:["Signups for ",_.find(e=>e.id===W)?.title||""]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(M.Button,{variant:"outline",onClick:()=>{let e=new Blob([[["Name","Email","Phone","Created At"],...($[W]||[]).map(e=>[e.name,e.email,e.phone||"",e.createdAt])].map(e=>e.map(e=>`"${String(e||"").replace(/"/g,'""')}"`).join(",")).join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=`signups_${W}.csv`,document.body.appendChild(n),n.click(),n.remove(),URL.revokeObjectURL(t)},children:"Export CSV"}),(0,c.jsx)(M.Button,{variant:"outline",onClick:()=>{K(!1),U(null)},children:"Close"})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[($[W]||[]).map(e=>(0,c.jsxs)(tS.Card,{className:"p-3 flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{className:"font-medium",children:[e.name," ",(0,c.jsx)("span",{className:"text-sm text-gray-500",children:e.email})]}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:e.phone||""})]}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"text-sm text-gray-400 mr-4",children:e.createdAt?new Date(e.createdAt).toLocaleString():""}),(0,c.jsx)(M.Button,{size:"sm",variant:"destructive",onClick:async()=>{if(confirm("Remove this signup?"))try{let t=await fetch("/api/events/signups",{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id})});if(t.ok)H(t=>({...t,[W]:(t[W]||[]).filter(t=>t.id!==e.id)}));else{let e=await t.json().catch(()=>({}));alert("Failed to remove signup: "+(e?.error||t.status))}}catch(e){console.error(e),alert("Failed to remove signup")}},children:"Remove"})]})]},e.id)),0===($[W]||[]).length&&(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"No signups yet."})]})]})})]}),"volunteers"===i&&(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)("div",{className:"flex items-center justify-between",children:(0,c.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Volunteer Applications"})}),(0,c.jsxs)("div",{className:"space-y-3",children:[ec.map(e=>(0,c.jsxs)(tS.Card,{className:"bg-white dark:bg-slate-800 p-4 flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.name}),(0,c.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.email," • ",e.roleTitle||e.roleId]}),(0,c.jsxs)("p",{className:"text-sm text-gray-500",children:["Status: ",e.status]}),e.adminMessage&&(0,c.jsxs)("p",{className:"text-sm text-gray-500",children:["Message: ",e.adminMessage]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(M.Button,{size:"sm",className:"bg-green-600",onClick:async()=>{let t=prompt("Optional message to the applicant (approval note)");try{let n=await fetch("/api/volunteers",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,action:"approve",message:t})});if(n.ok)ed(n=>n.map(n=>n.id===e.id?{...n,status:"approved",adminMessage:t}:n));else{let e=await n.json().catch(()=>({}));alert("Failed to approve: "+(e?.error||n.status))}}catch(e){console.error(e),alert("Failed to approve")}},children:"Approve"}),(0,c.jsx)(M.Button,{size:"sm",className:"bg-red-600",onClick:async()=>{let t=prompt("Message to applicant (reason for rejection)");if(null!==t)try{let n=await fetch("/api/volunteers",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,action:"reject",message:t})});if(n.ok)ed(n=>n.map(n=>n.id===e.id?{...n,status:"rejected",adminMessage:t}:n));else{let e=await n.json().catch(()=>({}));alert("Failed to reject: "+(e?.error||n.status))}}catch(e){console.error(e),alert("Failed to reject")}},children:"Reject"})]})]},e.id)),0===ec.length&&(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"No volunteer applications yet."})]})]}),"suggestions"===i&&(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Suggestions"}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[ep>0&&(0,c.jsxs)("span",{className:"text-sm text-white bg-red-600 rounded-full px-2 py-0.5",children:[ep," new"]}),(0,c.jsx)(M.Button,{size:"sm",onClick:async()=>{try{let e=await fetch("/api/suggestions",{credentials:"include"});if(e.ok){let t=await e.json();em(t?.suggestions||[]);let n=new Date().toISOString();try{localStorage.setItem("adminSuggestionsLastSeen",n)}catch(e){}ef(n),eg(0)}else{let t=await e.json().catch(()=>({}));alert("Failed to refresh suggestions: "+(t?.error||e.status))}}catch(e){console.error(e),alert("Failed to refresh suggestions")}},children:"Refresh"})]})]}),(0,c.jsxs)("div",{className:"space-y-3",children:[eu.map(e=>(0,c.jsxs)(tS.Card,{className:"bg-white dark:bg-slate-800 p-4 flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:[e.type," from ",e.name||e.email]}),(0,c.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.message}),e.adminResponse&&(0,c.jsxs)("p",{className:"text-sm text-gray-500",children:["Response: ",e.adminResponse," ",e.responderName?(0,c.jsxs)("span",{className:"text-xs text-gray-400",children:["(by ",e.responderName,")"]}):null]})]}),(0,c.jsx)("div",{className:"flex items-center gap-2",children:(0,c.jsx)(M.Button,{size:"sm",onClick:()=>{eb(e.id),ew(e.adminResponse||""),ev(!0)},children:"Respond"})})]},e.id)),0===eu.length&&(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"No suggestions yet."})]})]}),(0,c.jsx)(tx,{open:ex,onOpenChange:e=>{e||(eb(null),ew("")),ev(e)},children:(0,c.jsxs)(tb,{children:[(0,c.jsx)(tj,{children:(0,c.jsx)(tN,{children:"Respond to Suggestion"})}),(0,c.jsxs)("div",{className:"mt-2",children:[(0,c.jsx)(tk,{value:ej,onChange:e=>{ew(e.target.value),eS&&eE(null)},placeholder:"Write your response to the suggestion here"}),eS&&(0,c.jsx)("p",{className:"text-sm text-red-600 mt-2",children:eS})]}),(0,c.jsxs)(tw,{children:[(0,c.jsx)(M.Button,{variant:"outline",onClick:()=>{ev(!1),eE(null)},children:"Cancel"}),(0,c.jsx)(M.Button,{disabled:eN||0===ej.trim().length,onClick:async()=>{if(ey){if(0===ej.trim().length)return void eE("Response cannot be empty");ek(!0),eE(null);try{let e=await fetch("/api/suggestions",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:ey,response:ej,responderName:n})});if(e.ok)em(e=>e.map(e=>e.id===ey?{...e,adminResponse:ej,respondedAt:new Date().toISOString(),responderName:n||"You"}:e)),ev(!1),eb(null),ew(""),eC({title:"Response sent",description:"Your reply was delivered to the user."});else{let t=await e.json().catch(()=>({})),n=t?.error||`Status ${e.status}`;eE("Failed to send response: "+n)}}catch(e){console.error(e),eE("Network or server error")}finally{ek(!1)}}},children:eN?"Sending...":"Send Response"})]})]})})]})]})]})}e.s(["default",()=>tC],20383)}]);